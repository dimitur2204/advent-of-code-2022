// Define a function to calculate the total score of following a given strategy guide
function calculateTotalScore(normalizedInput) {
    // Initialize a variable to keep track of the total score
    let totalScore = 0;

    const playedPointsMap = {
      'A': 1,
      'B': 2,
      'C': 3
    }
    // A beats C, B beats A, C beats B    
    const getRoundOutcomePoints = (played, opponent) => {
      if (played === opponent) {
        return 3;
      }
      if (played === 'A' && opponent === 'C') {
        return 6;
      }
      if (played === 'B' && opponent === 'A') {
        return 6;
      }
      if (played === 'C' && opponent === 'B') {
        return 6 ;
      }
      return 0;
    // Return the total score
    return totalScore;
    }

    return normalizedInput.reduce((totalScore, [opponent, played]) => {
      return totalScore + getRoundOutcomePoints(played, opponent) + playedPointsMap[played];
    }
    , 0);
}

function getStrategizedInput(strategy) {

  // Split the strategy guide into individual lines
  let lines = strategy.split("\n");
  const strategyToSelectMap = {
    'X': 'lose',
    'Y': 'draw',
    'Z': 'win'
  }
  const normalizedLineTuples = lines.map(line => line.split(" ")).map(([opponent, strategy]) => {
    return [opponent,strategyToSelectMap[strategy]]
  });
  // A beats C, B beats A, C beats B    
  const getSelectedFromStrategy = (opponent, strategy) => {
    if (strategy === 'draw') {
      return opponent;
    }
    if (strategy === 'lose') {
      if (opponent === 'A') {
        return 'C';
      }
      if (opponent === 'B') {
        return 'A';
      }
      if (opponent === 'C') {
        return 'B';
      }
    }
    if (strategy === 'win') {
      if (opponent === 'A') {
        return 'B';
      }
      if (opponent === 'B') {
        return 'C';
      }
      if (opponent === 'C') {
        return 'A';
      }
    }
  }

  return normalizedLineTuples.map(([opponent, strategy]) => {
    return [opponent, getSelectedFromStrategy(opponent, strategy)];
  })
}

const input = `A Z
C X
A Z
A Z
C Y
C Y
A Z
A Y
C Y
A Y
A Z
A Z
A Z
A Y
A Z
A Y
C Y
C X
A Y
C Y
C Y
C X
A Z
C Y
C X
A X
A Y
A Z
A Y
A Y
C X
C X
B Y
C X
C X
A Y
A Z
A Z
A X
A Z
A Z
C Y
A Z
A Z
A Y
C X
C Y
C X
B X
C Z
A Y
A Z
A Z
A Z
A Y
A Y
C X
A Y
A Z
C Y
A Y
A Y
A Z
A Z
C Y
A Z
C Y
A Y
A Z
A Z
C Y
B Z
A Z
A Z
A Z
A Z
C X
C X
A Y
A X
A Y
A Z
A Z
C X
A Z
C X
A Z
C Y
C X
A Z
A Z
A Z
A Z
C X
C Y
A Z
A Z
C Y
A Z
B Z
C X
A Z
A X
C X
A Z
C Z
A Z
C X
A Z
A Y
C X
C Z
A Z
C X
C Y
A Z
B Z
B Y
A X
A X
A X
A Z
A Z
A X
A Z
A X
A Z
A Z
C X
C X
B Z
A Z
A Y
A Z
A Z
A Z
A Z
C X
C X
C X
A Z
A Z
A Z
A Z
A X
A Y
A Y
C X
C X
B Z
C X
A X
A Z
A Z
C X
C Z
A Z
A Z
C Y
A X
A Z
C Y
A X
A Y
A Y
A Y
C Y
A Z
A Z
C X
C X
C X
C X
B Z
C Y
C X
C X
A Y
A Y
A Z
A Z
A X
C X
A Z
B Z
A Z
C X
A Y
A Z
A Z
A Y
A Y
A Z
C X
A Y
C X
C X
A Z
A Y
C X
A Z
A Z
A Y
A Z
A Z
C Y
C Z
A Y
A Z
C X
C X
A Z
A Z
C Y
A Y
A Z
A Y
A Z
C X
A Z
A Z
C X
A Y
A Y
C Y
A Z
C Y
A Z
A Z
C Y
A Y
B Z
C Y
C X
C X
A Z
C Y
A X
C Y
A Z
A Y
A Z
C X
C X
C Y
C Y
A Y
A Z
C X
C X
A Y
A X
A Y
B Z
A Y
C Y
C X
C X
A X
C X
B Z
A X
C Y
C X
C X
A X
A Z
B Z
A Z
A Z
A Y
A X
A Z
C X
A X
C Y
A Z
A Z
A X
A Z
A Z
C X
C X
A Z
A Z
A Z
A X
A Z
A X
B Y
A Z
A Y
C Y
A Z
C X
A Z
C X
A Y
A Z
C X
C Y
A Y
C Y
A Z
C X
A Z
A Z
C X
A Y
A Z
A X
A Z
A Z
A Z
B Y
C X
A X
A Z
A Z
C Y
C Y
C X
C X
C X
A X
A X
A Z
A X
A Y
A Z
A Y
A Z
C Y
C Z
A Y
A Z
A Z
A X
A Z
A Z
C X
C Y
A Y
C X
C X
A Z
C X
C X
C X
A X
A Z
A Z
A Z
A Z
B Y
A Y
A Y
A Z
C X
A Y
A Z
C X
A Z
C Z
A Y
C X
A Z
B Z
A Y
A X
A Z
C X
A Z
A Z
A Z
A Z
A Z
B Z
A Z
C X
A Y
C X
A Z
A Z
A Y
A Z
B Z
C X
A Y
C Y
A Z
A Z
C X
C X
A Y
C X
C Y
B Z
A Y
C X
A Y
C X
A X
A Y
A Z
A Z
A Y
C X
A X
C X
B Y
A Z
A Y
B Y
A Y
C X
A Z
A Z
C X
C Y
A Y
C X
C Y
A Y
A Z
A X
B Z
C X
A Z
A Y
A Z
B Z
A Z
A X
C Y
A X
A Z
A Y
C Y
A Z
C Y
A Z
C X
C X
A Y
C X
C X
A Y
A Z
A Z
A Y
A X
C Y
A Z
A Z
C X
A X
A Z
C Z
A Z
C Y
A Z
C X
A Z
A Z
A X
C X
C X
C Y
B Z
B Y
C Y
A Y
A X
A Z
C X
A Y
A Y
A Z
A Z
C Z
C X
C X
C X
A Z
C X
A Z
A Z
A Y
C Y
C X
C X
C X
A Y
C X
B Z
C X
A Z
C Y
A Y
C Y
A Z
A Z
C X
A X
A Z
A Y
A Z
B X
C Z
A Z
C Z
A X
C X
C X
C X
C X
A Z
A Y
A Z
A Z
A Z
A Z
A Z
C Z
C Y
C Y
C X
C Y
A Z
C X
C X
A Z
A Z
C X
C Y
C Y
A Z
A X
C Y
C Y
C X
A Y
C X
A Z
A Z
A Y
C Y
A Y
C X
C X
A Z
A Z
C Y
A Z
C X
A Y
A Y
A Z
C Y
A Z
C X
A Y
A Z
A Z
A Z
A Z
C Y
A Y
C Y
A Z
A Z
A X
A Y
A Y
A Z
C Y
A Z
A X
A Z
B Z
C X
C X
C Y
A Z
A Z
C X
C Z
A Z
C X
C Y
A Z
B Z
A Z
B Z
A X
A Y
A Z
A Z
A Z
A Z
C Y
A Z
A Z
A Z
B Z
A Z
C X
C X
A Z
C X
A X
A Z
A Y
A Y
A X
A Z
A Z
A Z
A Z
B Z
A Z
C Y
C Y
C X
C X
B Z
C Y
A Z
C Y
A Z
A Y
C Y
A X
A Y
C X
A Y
C X
A Z
A Z
B Z
A Y
C Y
C X
A Z
A Z
C X
A Y
A Z
A Z
A X
A Y
A Y
A Y
A Z
A Y
A Z
C X
A X
A Z
A Z
C Y
A Z
C X
A Z
C Y
A Y
A Z
A Z
A Z
A Z
C Y
A X
A Z
A Z
A Y
A Z
B Z
A X
A Y
C X
C X
A Y
A Z
C Y
A Z
A Y
A Y
A Z
A Y
A Y
A Z
A Z
A Z
C X
A Z
A Y
A Z
A Z
C Y
A Z
C X
A Y
C X
C Y
A Z
C Y
A Z
A Y
C Y
C Y
A Z
C X
C X
C X
A Z
A Z
A Y
C X
A Z
A X
A Z
A Z
C X
A Z
C Y
A Y
A Z
A Y
A Z
A Z
C Y
A Z
C X
A Z
A X
A Z
A Z
C X
A Z
A Z
C Y
C X
A Z
C Y
C X
C X
A Z
A Z
A Z
A X
C X
A Z
A Z
C Y
A Y
C X
A Y
C X
C Y
A Y
A Z
C X
A Z
B Y
A X
B Z
A Y
A X
C Y
A Z
A X
A Z
A Z
C Y
A Z
B Z
C X
C X
B Y
A Z
A Z
A Z
C Y
C X
A Z
A Y
A Y
A Y
C Y
C X
A Z
A X
A X
A X
A Z
A Z
A Z
A Z
C X
C X
A Z
C X
A Y
C X
B Z
A Z
A Z
C X
A Z
C X
C X
C X
A Y
C Y
C X
A Y
C X
C Y
B Z
A Z
C X
A Z
A X
B Z
A Y
B Y
A Z
A Z
A X
A Z
A X
A Z
A Z
C X
C Y
A X
C Y
C X
A Z
A Z
A Z
C Y
A X
A Y
A Z
A Y
C X
B Z
A Z
A Y
C Z
C X
A Z
A Z
A Z
B Z
A X
C X
A Z
A Z
B Z
A Z
A Z
B Z
A Z
C X
A Z
C X
A Z
C X
A Z
C Y
A Z
A X
A Y
A Y
C X
A Y
C X
B Z
A Z
A Z
A Z
A Z
C X
A Z
C X
A Z
A Y
A Z
B Z
A Y
C Z
A Y
C X
A Z
A Z
A Y
B Z
A X
C Y
A Z
A Y
A Z
A Y
A Y
A Z
A Z
A Z
A X
A Z
C Y
A Y
A X
A Y
C X
A Y
C X
A X
C X
A Z
C Y
A Y
A Z
A Z
A X
A Y
C X
C X
A Y
A X
A Z
B Z
A Y
A Z
A X
A Z
B Y
A Y
A Y
A Z
C X
A Z
A Z
A Y
A Z
C Z
A Z
A Z
A Z
A Z
C Y
C Y
A Y
B Z
C Y
A Y
C Y
A Z
A Z
A Z
A Z
C Y
A Z
A Z
C Y
C X
A Y
A Y
A Z
C X
C Z
C X
C X
A Z
A Z
A Y
A Z
A X
C Y
A Z
A Z
C Y
C X
A X
A Z
A Z
A X
C X
C X
C X
A Z
A X
C X
C Y
A X
A Z
C X
A Z
A Z
C X
A Y
A Z
A Z
A Y
A Z
C X
A Z
A Z
C X
A Y
A Z
A Z
C X
A Z
A Y
A Z
C Y
A X
A Z
A Z
C X
A Z
A Y
C Y
B Z
A Z
A Y
C X
A Z
B Z
A Z
C Z
A X
A Z
A Z
C Y
A Z
A Y
C X
C Y
A Z
A Z
A Y
A X
C Y
A Y
C X
C Y
A Z
C Y
A Z
C X
A Z
A Z
A X
A Z
A Z
B X
A X
A Z
C Y
A Z
A X
C X
A Z
A Z
C X
C Y
C Y
A X
A Y
C Y
A Y
A Z
A Z
A Z
A Z
A Y
C X
C X
C Y
C X
A Z
A X
B Z
B Y
C X
C Y
A Y
A Z
A Y
C X
C Z
A Z
A Y
C Y
C X
A Z
A Z
A Y
C X
C Z
C Y
A Z
C X
C Y
A X
A X
A Y
A Z
B Z
A X
A Y
A Y
C X
C Y
A Z
A X
A Z
A X
A Y
A Z
A Z
A Z
C X
A Z
A Z
A Z
C Z
C Y
C Y
A Z
C Y
C Y
C Y
C X
A Z
C X
C X
A Z
A Y
A Z
A Z
A X
A Y
A Y
C X
C X
A Z
A Z
A Z
A Z
A Y
A Z
A Z
A Z
A Z
A X
A X
A Y
A X
C Y
A Y
A Z
C X
A Y
A Y
A Z
A Z
A Z
C X
A Z
C X
C X
C Y
A Y
A Z
A Y
A Z
C X
C X
A Z
A Z
A Z
C X
A X
A Z
A Z
C Y
C Y
A Y
A Y
A Z
A Z
C Y
C X
C Y
A X
C Y
C X
C Y
A Z
A Z
A X
C Y
C Y
A Z
A Y
C X
A X
B Z
A Z
C X
A Y
A X
A Z
A Z
A Z
C Y
C X
A Z
C X
A Z
A Z
A Y
A Z
A Y
A X
A Z
C Z
A Z
A Z
A Z
A X
A Z
A X
C X
A Z
A Z
C Y
A X
A Z
C X
C X
A Y
A Z
A Z
C X
B X
A Z
C Y
A Z
C X
A Y
A Z
C X
A X
A Z
A X
A Z
C X
A Z
A X
A Z
C X
C Y
A Y
A X
A X
A Z
C Y
C Y
A Y
A Y
A Y
A X
A Z
A Z
A Z
C Y
C Y
A Y
B X
B X
A Z
C X
C X
A Z
C Y
C X
A Z
A Z
A Z
A Z
C X
A Z
A Z
C Y
A Y
C Y
A Z
C Y
C Y
A Z
C X
A Z
A X
A Z
C X
C X
A Y
B Z
A Y
C Y
A Z
C Y
A X
C X
A Y
C X
A Z
C Z
C Y
A Z
C X
C Y
A Z
A X
A Z
A Z
A Z
C X
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
A X
A Y
C Y
B Y
C X
B Z
A Z
A Z
A Y
B Z
A Z
A Z
C X
C Y
C X
A Y
A X
C X
C Y
A Y
C X
C Y
A Z
A Z
A Z
A Y
C X
A Y
C X
B Z
A Z
A Y
A Z
A Z
A Y
C X
A Z
C X
C Y
A Y
A Z
B Z
C X
A Y
C X
A Y
A Z
C X
A X
C X
B Y
C X
A Z
A Y
A Z
A Y
A X
C X
C X
A Y
C X
A Y
A Y
A X
B Y
A Y
C X
C X
A Y
B Z
B X
B Z
A Y
A Z
C Y
A Y
B Y
A Z
C X
A Z
A Z
A Z
A Z
B Z
C X
C Y
A Z
C Y
C Y
A X
C X
A Z
A Z
A Z
C X
C X
C X
A Y
C Z
C Z
A Z
C X
A Y
A Z
A Z
A Z
C X
A Z
A X
A Z
A Z
A Z
A Z
A Y
C Y
C X
A X
A Y
C X
A X
A Z
A Z
C X
A Z
A X
A Z
A Z
A X
A Z
A Z
A X
A Z
A X
B Y
A Y
A Y
C Y
A Z
A Y
C X
A Z
A Y
A X
C Y
B X
C Y
A Z
C X
A Y
A Z
A Y
A X
C Y
A Z
A Z
C Y
C X
A Z
C X
A Y
C X
A Z
A Y
A Z
A Z
A Z
A Y
A Z
C X
C X
A X
C X
C X
A Z
C X
A Z
C Y
C X
A Z
A Z
A Z
C X
A X
C Y
A Z
C Y
A X
A Z
C X
A Z
A Z
A X
A Z
C X
B X
A Z
A Z
A Z
C X
A Y
A Y
A X
C Y
C Y
A Z
A Y
A Z
A Z
C X
A X
A Y
A Z
A Z
A Z
A Z
B Z
C X
C X
C X
A Z
C Z
A X
C X
A Z
C Y
A Z
A Z
A Y
A Y
C X
A Z
A X
A Z
A Z
A Z
A Z
C Y
A Z
A Y
A X
A X
A Z
C X
A X
A X
A Z
A Y
C X
A Z
A Z
A Y
A Z
B Z
C X
C X
C Z
C Y
C X
A Z
C Y
A Z
C Z
A Z
A Y
A Y
A X
A X
A Z
A Y
A Y
A Y
A Y
A Z
C Y
A Z
A Z
C X
A Z
A Z
C Y
A Y
C X
A Y
C X
A Z
B Z
A X
B X
A Y
A X
A Y
B Z
A Y
A Z
C Y
C Y
A Z
A X
A Z
A Z
C Z
A Z
A Y
C X
A Y
C X
A X
A Y
C Y
A Y
A Z
A Z
C X
C X
B Z
A Z
A Z
A X
C X
C Y
A Z
A Z
A X
C X
C Z
A Z
C Y
A Y
B Z
C Y
A Z
C X
A X
A Z
A Z
A Z
A Y
C Y
A Z
C Y
A Z
A Z
A Z
A Z
A Y
C X
A Y
C Y
B Z
A Z
C X
C Y
A Z
C X
A Z
C X
C Z
A Z
C X
C X
A Z
A Z
A Y
A Y
A Y
C X
A Y
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
A X
C Y
A Z
A Z
A Z
A Y
A Z
A Z
A Z
A Z
C X
B Z
A Z
A Y
A Y
A X
A Z
A Z
C Z
A Z
C X
A Y
A X
B Z
A Z
A Z
A Z
C Y
C Z
C X
A Z
C Y
C Y
C Y
C X
B Z
A Z
A Z
C Z
A X
A Z
A Z
A Z
C X
A Z
A Z
C Y
C Y
A Z
A Z
C X
A Y
C Y
C Y
A Z
A Z
A X
A Z
A Z
A X
A X
C X
A Z
A X
C X
C X
A Z
A X
A Z
C X
C X
C X
C Y
A Z
A Z
A X
A Z
A Y
A Z
A Z
C Y
A Z
A Z
A Z
A X
A Z
C X
A X
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A X
A Y
A X
C Y
A Z
A Z
C X
A Z
A Z
A Z
A X
A Z
A Z
A Y
C X
A Y
A Z
C X
A X
A Y
A Z
A Z
A X
A Z
A Y
C X
A Y
A Z
A Z
A Z
A Z
C X
C Y
A Z
B Z
C X
A Z
A Z
C Y
C Y
C X
A X
C Y
B Y
A Z
A Z
A Z
C Y
A Z
A X
A Y
A Z
A Z
A Z
C Y
A Z
C Y
C X
A Z
A Z
A Z
A Z
A Z
A X
A Z
A Z
C X
A Z
A Y
C Z
A Z
A Z
A Z
B X
C X
A Z
A Z
A Z
A Z
C X
A Z
A Z
A Y
A X
C X
C Y
A X
A Y
C X
A Z
A Z
C X
C X
A Z
C X
A Z
A Y
C X
A Z
B X
B Y
A X
C Y
A X
A Y
C Y
A Z
A Z
A Z
C X
A Z
A X
A Z
C Y
A Z
A Z
C X
A Z
A Z
A Y
A Z
A X
A Y
A Z
C X
C Y
B X
C Y
A Y
A Z
C X
A Z
C X
C Y
A X
A X
A Z
A Z
C Y
A Y
A Y
A Z
A Z
C X
A X
C X
A X
A Y
C X
A Z
A Z
B Y
A Z
A Z
A Z
A Z
A Z
A X
A Y
A X
A Z
A Z
C X
A Y
A Z
C Y
C X
C X
C X
C X
C Y
A X
A X
C Y
A X
A Y
A Y
B Z
A Z
B Y
C Y
A X
A Y
A Z
A Z
A Z
A X
C X
A Z
A Z
A Z
A Z
A Z
A Y
A Z
B Z
A Z
A Z
A Y
C Y
C Y
C X
A Z
A X
C X
A Y
B Z
C X
A Z
C X
C Y
C Y
A X
A X
C X
A Z
A Z
A Y
A X
A X
A Z
C Y
B X
A Z
A Z
A Z
A Z
A Y
A Y
A Z
C Y
C Y
A X
A Z
A Z
C Y
A Y
A Y
A X
A Y
A X
A X
A X
A Z
A Z
A Y
A Z
C X
A Z
A Y
A Z
A Z
A Y
A Z
A Z
C X
A Z
A Y
A Z
A Z
A Z
A Z
A Z
A Z
A Y
C X
B Z
C Z
A Z
A Y
A X
A X
C Y
C Y
A X
C X
B Z
A Z
C X
A Z
A Z
A Z
A Z
A Z
A Z
A Z
A Y
A Z
A Z
A Y
A Z
A Y
A Y
A Z
A Z
A Y
A Z
C Y
A Z
A Z
A Z
C X
C X
A Z
C Y
A Z
A Z
C X
A Z
C X
A Y
A Z
C Y
A Z
A Z
C X
C Y
A Z
C X
C X
A X
A Y
C Y
A Y
A Z
C X
A Z
A Z
A X
A Z
C Y
A Z
C X
A Z
C X
A Z
C X
A Y
C Y
A X
A Z
A Z
C Y
A X
A Z
A Y
B Z
A Z
A X
A Z
A Z
A X
C X
A Z
A Z
C Y
A Z
A Y
A Z
C Y
A Z
A Y
A Z
C Z
A Y
A Z
A Y
C Y
A Z
C X
A X
B Z
C X
C X
A Z
A Z
A Y
A X
A Z
A Z
B Z
A Z
C Z
A X
A Z
A Z
A Z
A Z
A X
A X
A Z
A X
A Z
A Z
A Z
A X
C X
C Y
A X
C X
C X
A Z
A X
C Y
B Z
A Z
A Z
C X
B X
A Z
A Z
C X
C X
B Z
C Y
A Z
A Z
C X
A X
A Y
C Y
C Y
B Z
A Y
C X
A Z
A Z
A Y
C X
A Z
A Z
C X
C Y
A Z
C X
C Y
C Y
C X
C Y
A Z
C Y
A Z
C X
A Z
C Y
C Z
A Z
B Z
A Z
C X
C X
B Y
B Z
C Y
C X
C X
A Y
C X
C X
A Z
A Y
A Z
C X
A X
A Z
A Z
A Z
A Z
A Z
A Z
A Z
C X
C X
A Z
C Y
C X
A Z
B Z
A Z
A Z
A X
C X
A Y
A Z
A Z
A Y
A X
C Y
B X
A Z
A X
C Y
C X
C X
C Y
C Y
A Z
A Z
C Y
A Z
A Y
C Y
A Y
C X
A Z
C X
C Y
C Y
A Z
A Z
A X
A Y
A Z
A X
A Z
A Z
A Z
C Y
A Z
A Z
C X
C Y
A Z
A Z
A Z
C Y
C X
A Z
C X
A Z
A Z
A Z
A X
A Z
A Z
A Y
B Z
A Z
A Z
A Z
C Y
A Z
B Z
A Z
C Z
A Z
A Y
C X
C Y
C X
C X
A Z
A Z
A Y
A Y
A Z
A Y
B Z
C Y
A Y
A Z
C X
A Z
A Z
C Y
A Y
A Z
A Y
C Y
A Z
A Z
A X
B Z
A Z
A X
C X
A Z
C Y
C Y
A Z
B Y
A Y
A Z
A Z
A Z
A Z
C X
C X
A Z
C X
A Y
A Z
A Z
C Y
A Z
A Z
C Y
C X
B Z
A Y
A Y
C X
C X
A Z
A X
B Z
A Z
C Y
A Z
A Y
A Z
A Z
A Y
C Y
C X
A Z
C X
A Z
C Y
A Z
C Y
A Y
A Z
A Y
A Z
C X
A Z
A Z
C X
A Z
B Y
A Z
A Z
C Y
C X
C X
A Z
A Z
C X
B Z
A Y
A Z
A Y
A Z
A Z
A Y
A X
C X
C X
A X
A Z
A Y
A Y
A Z
A Y
A Z
A Z
C Y
A X
A Z
A Z
C X
A Z
A X
B X
C X
A Z
A Y
B Z
C X
C Y
A Z
B Z
C Y
A Z
A Z
A X
A Z
A Z
A Z
A Z
A Z
A Z
A Z`

console.log()
console.log(calculateTotalScore(getStrategizedInput(input)))